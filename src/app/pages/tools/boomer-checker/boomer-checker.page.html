<h3 class="small mb-0 ps-2 pe-2">
    Many financial milestones that were easy for the Baby Boomer generation to achieve are out of reach for younger people today.
    Since the heyday of the Boomers, the combination of rising prices and stagnant wages has led to a bleaker financial outlook for the generations that followed. 
    Take a look below to find out more.
</h3>
<div class="panel-container row mt-1">
    <mat-expansion-panel #priceInflationPanel [expanded]="false" (opened)="panelOpened('priceInflationPanel')">
        <mat-expansion-panel-header>
            <mat-panel-title>
                <strong>In&nbsp;</strong>    
                <select [(ngModel)]="startingYear" (click)="headerActionItemClicked($event)">
                    <option *ngFor="let year of allowedYears" value={{year}}>{{year}}</option>
                </select>
                <strong>&nbsp;,&nbsp;</strong> 
                <select class="text-center" [(ngModel)]="selectedPurchaseType" (click)="headerActionItemClicked($event)">
                    <option *ngFor="let purchaseType of purchaseTypes" [ngValue]="purchaseType">{{ purchaseType.altName }}</option>
                </select>  
                <strong>&nbsp;was {{ priceInflationDataSeries[0].dataPoints[0].value < priceInflationDataSeries[0].dataPoints[priceInflationDataSeries[0].dataPoints.length - 1].value ? 'cheaper' : 'more expensive' }}</strong>
            </mat-panel-title>
        </mat-expansion-panel-header>
        <div class="section-content">
            <div class="w-100">
                <line-chart-race
                    #priceInflationChart
                    [title]="priceInflationChartTitle"
                    [data]="priceInflationDataSeries"
                    [valueFormat]="'currency'">
                </line-chart-race>
            </div>
            <div>
                <div class="text-center">
                    Since {{ startingYear }} the price of a {{ selectedPurchaseType.name }} has 
                    {{ priceInflationDataSeries[0].dataPoints[0].value < priceInflationDataSeries[0].dataPoints[priceInflationDataSeries[0].dataPoints.length - 1].value ? 'increased' : 'decreased' }}
                    by {{ _dataFormatter.calculatePercentage(purchaseCurrentPrice, purchaseStartingPrice, true) }}%, and has increased
                    <span *ngIf="purchaseCurrentPrice/purchaseInflationAdjustedPrice >= 1"> FASTER</span>
                    <span *ngIf="purchaseCurrentPrice/purchaseInflationAdjustedPrice < 1"> SLOWER</span>
                    than inflation by 
                    {{ _dataFormatter.calculatePercentage(purchaseCurrentPrice, purchaseInflationAdjustedPrice, true) }}%
                </div>
                <table class="table table-bordered">
                    <tbody>
                        <tr>
                            <td>Average cost in {{startingYear}}: </td>
                            <td class="text-end">{{ _dataFormatter.formatCurrency(purchaseStartingPrice) }}</td>
                        </tr>
                        <tr>
                            <td>Adjusted to {{currentYear}} dollars: </td>
                            <td class="text-end">{{ _dataFormatter.formatCurrency(purchaseInflationAdjustedPrice) }}</td>
                        </tr>
                        <tr>
                            <td>Actual {{currentYear}} cost:</td>
                            <td class="text-end">{{ _dataFormatter.formatCurrency(purchaseCurrentPrice) }}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </mat-expansion-panel>
</div>
<div class="panel-container row mt-3">
    <mat-expansion-panel [expanded]="false" (opened)="panelOpened('wageDataPanel')">
        <mat-expansion-panel-header>
            <mat-panel-title><strong>Wages Have Struggled to Keep the Same Pace</strong></mat-panel-title>
        </mat-expansion-panel-header>
        <div class="section-content col-12">
            <wage-data
                [startYear]="startingYear"
                [endYear]="currentYear"
                [startingAnnualData]="startingAnnualData"
                [endingAnnualData]="currentAnnualData"
                [selectedTimeFrame]="selectedTimeFrame"
                [selectedPurchaseType]="selectedPurchaseType">
            </wage-data>
            <div class="col-12">
                <line-chart-race
                    #wageDataChart
                    [title]="'Wage Increases over Time'"
                    [data]="wageDataSeries"
                    [valueFormat]="'currency'">
                </line-chart-race>
            </div>
        </div>
    </mat-expansion-panel>
</div>
<div class="panel-container row mt-3">
    <mat-expansion-panel [expanded]="false" (opened)="panelOpened('workTimePanel')">
        <mat-expansion-panel-header>
            <mat-panel-title><strong>Result: More Work Is Required for the Same Purchases</strong></mat-panel-title>
        </mat-expansion-panel-header>
        <div class="section-content col-12">
            <div class="mt-2 justify-content-center">
                <work-time-chart
                    #workTimeContainer
                    [startYear]="startingYear"
                    [endYear]="currentYear"
                    [annualData]="allAnnualData"
                    [purchaseType]="selectedPurchaseType"
                    [timeFrames]="timeFrames"
                    [(selectedTimeFrame)]="selectedTimeFrame">
                </work-time-chart>
            </div>
            <work-time
                #workTime
                [startYear]="startingYear"
                [endYear]="currentYear"
                [purchaseStartingPrice]="purchaseStartingPrice"
                [purchaseCurrentPrice]="purchaseCurrentPrice"
                [startingAnnualData]="startingAnnualData"
                [endingAnnualData]="currentAnnualData"
                [purchaseType]="selectedPurchaseType"
                [timeFrames]="timeFrames"
                [(selectedTimeFrame)]="selectedTimeFrame">
            </work-time>
        </div>
    </mat-expansion-panel>
</div>